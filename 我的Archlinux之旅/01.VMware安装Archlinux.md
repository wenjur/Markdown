# VMwareå®‰è£…Archlinux





## åˆ¶ä½œå¯åŠ¨ç›˜



## æ–°å»ºè™šæ‹Ÿæœº



## å¼€å§‹å®‰è£…

#### éªŒè¯æ˜¯å¦ä¸ºefiå¼•å¯¼

```
ls /sys/firmware/efi/efivars
```

æ‰§è¡Œä»¥ä¸Šå‘½ä»¤ï¼Œå¦‚æœæœ‰è¾“å‡ºåˆ™è¡¨æ˜æ˜¯uefiå¼•å¯¼ï¼Œå¦åˆ™ä¸ºbioså¼•å¯¼ã€‚æ­¤æ­¥å¯¹äºåé¢çš„ç£ç›˜åˆ†åŒºæœ‰å½±å“ã€‚

å¦ï¼šç”±äºæˆ‘äº‹å…ˆåœ¨VMwareé‡Œå°†è™šæ‹Ÿæœºè®¾ç½®ä¸ºäº†uefiå¼•å¯¼ï¼Œå› æ­¤è¿™ä¸€æ­¥å¯ä»¥çœç•¥ã€‚ç°åœ¨çš„ç¬”è®°æœ¬ã€å°å¼æœºå¤§å¤šæ•°ä¹Ÿéƒ½æ˜¯uefiå¼•å¯¼ï¼Œé™¤éæ˜¯é‚£äº›è€å¤è‘£ã€‚

#### è¿æ¥ç½‘ç»œ

å‚è€ƒarchlinuxçš„Installation guideçŸ¥é“ï¼Œarchlinuxéœ€è¦è”ç½‘å®‰è£…ã€‚

```
[root@archiso~]# ping www.baidu.com
```

pingä¸€ä¸‹ç™¾åº¦å®˜ç½‘ã€‚æˆ‘å·²ç»æ’ä¸Šäº†ä»¥å¤ªç½‘ï¼Œå› æ­¤è¿™é‡Œå¯ä»¥ç›´æ¥pingé€šï¼ˆè¿˜æ˜¯å¾ˆæ¬£æ…°çš„ï¼Œè¦çŸ¥é“å½“å¹´ç”¨centosæ—¶å¯æ˜¯ä»å¼€å§‹æ¥è§¦åˆ°é€šç½‘æ•´æ•´9ä¸ªæœˆå•Šï¼‰ã€‚æ‹”æ‰ç½‘çº¿åˆ‡æ¢ä¸ºæ— çº¿è¿æ¥åï¼Œä»ç„¶å¯ä»¥pingé€šï¼Œæˆ‘ç›´æ¥ç–‘æƒ‘ï¼Ÿä¸æ˜¯è¯´éœ€è¦ä½¿ç”¨iwdæ‰‹åŠ¨è¿æ¥wifiå˜›ï¼Ÿæš‚æ—¶æ€€ç–‘æ˜¯è™šæ‹Ÿæœºçš„åŸå› ï¼Œç‰©ç†æœºç­‰åé¢è¯•è¯•ã€‚

```
[root@archiso~]# iwctl
[iwd]# device list
```

æ‰§è¡Œä¸Šé¢ä¸¤æ¡å‘½ä»¤ï¼Œä½†è¾“å‡ºç»“æœå´æ˜¾ç¤ºæ²¡æœ‰è®¾å¤‡ï¼Œæˆ‘å†æ¬¡ç–‘æƒ‘ï¼Ÿé‰´äºéç‰©ç†æœºçš„åŸå› ï¼Œä¸‹é¢æˆ‘æŠŠæœ‰çº¿ç½‘å’Œæ— çº¿ç½‘çš„è¿æ¥æ–¹æ³•éƒ½åˆ—ä¸¾å‡ºæ¥ä»¥å¤‡æ—¥åå‚è€ƒã€‚

###### æœ‰çº¿

```
[root@archiso~]# dhcpcd
-- è¿™é‡Œè¾“å…¥ipå³å¯
```

è¿™ä¸ªipçš„ç¡®å®šï¼Œéœ€è¦å…ˆå»æŸ¥çœ‹windowsçš„ipï¼Œç„¶åæ›´æ”¹ä¸ºåŒä¸€ç½‘æ®µä¸‹çš„ipåœ°å€å³å¯ã€‚

###### æ— çº¿

``` 
[root@archiso~]# iwctl
[iwd]# device list									-- è·å–æœºå™¨çš„ç½‘å¡è®¾å¤‡
[iwd]# station <devicename> scan					-- æ‰«æé™„è¿‘å¯ç”¨çš„wifiç½‘ç»œ
[iwd]# station <devicename> get-networks			-- æ˜¾ç¤ºæ‰«æç»“æœ
[iwd]# station <devicename> connect <wifi-ssid>		-- è¿æ¥wifi
[iwd]# -- è¿™é‡Œå¯èƒ½éœ€è¦è¾“å…¥wifiå¯†ç 
[iwd]# exit											-- é€€å‡º
```


#### è·å–é•œåƒ

```
[root@archiso~]# pacman -Syyy				-- æ£€æŸ¥è½¯ä»¶æºæ˜¯å¦æ­£å¸¸ã€‚åˆ†åˆ«æœ‰core extra community
```

é‡æ–°è®¾ç½®mirrorlistï¼ˆå¯é€‰ï¼‰ã€‚è¿™ä¸€æ­¥å…¶å®ç°åœ¨å¯ä»¥çœç•¥äº†ï¼Œç”±å®‰è£…å‘å¯¼å¯çŸ¥ï¼Œç°åœ¨åœ¨ live ç¯å¢ƒä¸­ä½¿ç”¨ reflector è¿›è¡Œé•œåƒçš„ç®¡ç†ï¼Œä¸€è¿æ¥ç½‘ç»œï¼Œlive ç³»ç»Ÿä¼šè‡ªåŠ¨æ‰§è¡Œ reflector å‘½ä»¤æ¥å¸®å¿™é€‰æ‹©é•œåƒæºï¼Œé»˜è®¤çš„æ˜¯æ ¹æ®ä¸‹è½½é€Ÿç‡è¿›è¡Œæ’åºã€‚å¹¶ä¸”è¯¥é•œåƒæºæ–‡ä»¶ä¼šå†™è¿›æœªæ¥çš„ç³»ç»Ÿä¸­ã€‚

```
[root@archiso~]# reflector -c China -a 6 --sort rate --save /etc/pacman.d/mirrorlist
[root@archiso~]# pacman -Syy				--åˆ·æ–°
```



#### æ›´æ–°æ—¶é—´

```
[root@archiso~]# timedatectl set-ntp true		--æ›´æ–°ç³»ç»Ÿæ—¶é—´
[root@archiso~]# timedatectl status				--æŸ¥çœ‹ç³»ç»Ÿæ—¶é—´
```

#### ç£ç›˜åˆ†åŒº

```
[root@archiso~]# lsblk			-- æˆ–è€… fdisk -l
```

è¿™é‡Œéœ€è¦æ…é‡åˆ¤æ–­å“ªä¸ªç£ç›˜æ˜¯è¢«ç”¨æ¥å®‰è£…archçš„ã€‚

```
[root@archiso~]# cfdisk /dev/sda		-- /dev/sdaæ˜¯ç£ç›˜è®¾å¤‡åï¼Œå…·ä½“çš„è¦ä¾æœ¬æœºè€Œå®šï¼Œå¯èƒ½æ˜¯/dev/sdbä¹‹ç±»çš„
```

æ‰§è¡Œcfdiskåï¼Œé€‰æ‹©gptï¼Œå›è½¦ã€‚å¯¹äºæˆ‘çš„240Gç¡¬ç›˜ï¼Œä»¥ä¸‹é¢ä¸ºä¾‹è¿›è¡Œåˆ†åŒºï¼Œå‰©ä½™çš„å°†è¿‘40Gå†…å­˜ä»¥åç”¨äºå’Œwindowsäº¤æ¢æ•°æ®ç”¨ã€‚å¦‚æœæ˜¯UEFIå¼•å¯¼ï¼Œåˆ™å¿…é¡»æœ‰EFI Systemåˆ†åŒºã€‚è™½ç„¶ç›´åˆ°ç°åœ¨æˆ‘ä¹Ÿæ²¡æœ‰ææ˜ç™½/bootç›®å½•å’Œé‚£ä¸ªefiåˆ†åŒºåˆ°åº•æ˜¯ä»€ä¹ˆå…³ç³»ã€‚å¾ˆç–‘æƒ‘çš„æ˜¯æ²¡æœ‰/bootåˆ†åŒºï¼ŒInstallation Guideæ²¡æœ‰æŒ‡å‡ºè¯¥åˆ†åŒºã€‚

```
ç£ç›˜åˆ†åŒº		å¤§å°		ç±»å‹
/dev/sda1		1G		EFI System
/dev/sda2		4G		Linux swap
/dev/sda3		108G	Linux root x86-64 (æ ¹ç›®å½•)
/dev/sda4		108G	Linux home (homeç›®å½•)
```

#### æ ¼å¼åŒ–åˆ†åŒº

```
[root@archiso~]# mkfs.fat -F32 /dev/sda1	-- æ ¼å¼åŒ–EFIåˆ†åŒºï¼Œvfatæˆ–è€…fat32éƒ½å¯ä»¥
[root@archiso~]# mkswap /dev/sda2			-- æ ¼å¼åŒ–swapåˆ†åŒº
[root@archiso~]# mkfs.xfs /dev/sda3			-- æ ¼å¼åŒ–rootåˆ†åŒºï¼Œè¿™é‡Œæˆ‘é€‰æ‹©çš„æ˜¯xfsæ–‡ä»¶ç³»ç»Ÿ
[root@archiso~]# mkfs.xfs /dev/sda4			-- æ ¼å¼åŒ–homeåˆ†åŒºï¼Œxfsæ–‡ä»¶ç³»ç»Ÿ
[root@archiso~]# swapon /dev/sda2			-- æ¿€æ´»äº¤æ¢åˆ†åŒº
```

#### æŒ‚è½½

```
[root@archiso~]# mount /dev/sda3 /mnt				-- å…ˆæŒ‚è½½æ ¹åˆ†åŒº
[root@archiso~]# mkdir -p /mnt/boot/efi				-- 
[root@archiso~]# mount /dev/sda1 /mnt/boot/efi		-- æŒ‚è½½efiåˆ†åŒº
[root@archiso~]# mkdir /mnt/home					--
[root@archiso~]# mount /dev/sda4 /mnt/home			-- æŒ‚è½½homeåˆ†åŒº
[root@archiso~]# df -lh								-- æŸ¥çœ‹åˆ†åŒºåŠæŒ‚è½½æƒ…å†µ
```

#### å®‰è£…ç³»ç»Ÿ

```
[root@archiso~]# pacstrap /mnt base linux linux-firmware base-devel vim dhcpcd
```

AURä¾èµ–base-develç»„ï¼Œå¾ˆå¤šå®˜æ–¹æ²¡æœ‰çš„è½¯ä»¶ï¼Œåœ¨AURé‡Œéƒ½å¯ä»¥æ‰¾åˆ°ã€‚vim,dhcpcdéƒ½æ˜¯å¯é€‰é¡¹ï¼Œæ¨èå®‰è£…ã€‚æœ‰äººå‡ºç°è¿‡å› ä¸ºæ²¡æœ‰dhcpcdçš„åŸå› ç³»ç»Ÿå®‰è£…å®Œé‡å¯åæ— æ³•è”ç½‘ã€‚

è‡³æ­¤archlinuxç³»ç»Ÿå·²ç»å®‰è£…å…¥ç£ç›˜ï¼Œä½†è¿˜æ— æ³•ä½¿ç”¨ã€‚

#### é…ç½®ç³»ç»Ÿ

###### ç”Ÿæˆfstabæ–‡ä»¶

```
[root@archiso~]# genfstab -U /mnt >> /mnt/etc/fstab
[root@archiso~]# cat /mnt/etc/fstab						-- æ£€æŸ¥æ ¼å¼
```

###### Chroot

```
[root@archiso~]# arch-chroot /mnt			-- åˆ‡æ¢æ ¹ç›®å½•åˆ°æ–°çš„ç³»ç»Ÿ
```

###### è®¾ç½®æ—¶åŒº

```
[root@archiso/]# ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime	-- å°†ç³»ç»Ÿæ—¶é—´è®¾ç½®ä¸ºä¸œå…«åŒºä¸Šæµ·
[root@archiso/]# hwclock --systohc --utc									-- è°ƒæ•´æ—¶é—´æ¼‚ç§»ï¼Œè®¾ç½®æ ‡å‡†æ—¶é—´ä¸ºUTC
```

###### æœ¬åœ°åŒ–

è®¾ç½®å¹¶ç”Ÿæˆç³»ç»Ÿéœ€è¦çš„è¯­ç³»ã€‚

```
[root@archiso/]# vim /etc/locale.gen			-- æŠŠéœ€è¦çš„è¯­ç³»æ³¨é‡Šåˆ é™¤æ‰ã€‚ä¾‹å¦‚
[root@archiso/]# locale-gen
```

locale.genæ–‡ä»¶ä¸­ï¼Œæˆ‘ä¿ç•™äº†`en_GB.UTF-8 UTF-8`, `en_US.UTF-8 UTF-8`, `zh_CN.UTF-8 UTF-8`, `zh_TW.UTF-8 UTF-8`ã€‚

æ·»åŠ `LANG`å˜é‡ï¼Œè®¾ç½®æœ¬åœ°ä½¿ç”¨çš„è¯­è¨€ç¯å¢ƒã€‚

```
[root@archiso/]# echo LANG=en_US.UTF-8 > /etc/locale.conf
[root@archiso/]# locale		-- æ˜¾ç¤ºå½“å‰è¯­ç³»
```

###### ä¸»æœºå

```
[root@archiso/]# echo ä¸»æœºå > /etc/hostname		-- ä¸»æœºåæˆ‘è®¾ç½®ä¸ºArchLinux
```

###### è®¾ç½®hostsæ–‡ä»¶

```
[root@archiso/]# vim /etc/hosts
```

å†™å…¥ä»¥ä¸‹ä¿¡æ¯

```
127.0.0.1	localhost
::1			localhost
127.0.1.1	ä¸»æœºå.localdomain ä¸»æœºå
```

###### è®¾ç½®rootå¯†ç 

```
[root@archiso/]# passwd		-- è¾“å…¥å¯†ç å³å¯
```

###### å®‰è£…microcode

å¦‚æœæ˜¯intelçš„cpuï¼Œå®‰è£…`intel-ucode`ï¼Œamdçš„cpuå°±å®‰è£…`amd-ucode`ã€‚æŒ‰ç…§å®‰è£…å‘å¯¼çš„æŒ‡ç¤ºæ˜¯è¿™æ ·çš„ã€‚ç„¶åå†å®‰è£…grubã€‚

```
[root@archiso/]# pacman -S intel-ucode
```

ä¸ºä»€ä¹ˆè¦è£…è¿™ç©æ„å„¿ï¼Ÿ[Microcode - ArchWiki](https://wiki.archlinux.org/title/Microcode)

###### å®‰è£…å¼•å¯¼

å®‰è£…å¼•å¯¼ç¨‹åºå‰ï¼Œéœ€è¦å…ˆä¸‹è½½ç›¸å…³çš„åŒ…

```
[root@archiso/]# pacman -S grub efibootmgr
```

å°†grubå®‰è£…åˆ°efiåˆ†åŒºä¸­ï¼Œå¹¶ä¸”ç”Ÿæˆgrubé…ç½®æ–‡ä»¶

```
[root@archiso/]# grub-install --target=x86_64-efi --efi-directory=/boot/efi --bootloader-id=ArchLinux
[root@archiso/]# grub-mkconfig -o /boot/grub/grub.cfg
```

æ³¨æ„ï¼š`--efi-directory`çš„å‚æ•°æ˜¯efiåˆ†åŒºçš„æŒ‚è½½ç›®å½•ã€‚ä¾å®é™…æƒ…å†µè€Œå®šã€‚

###### å®‰è£…ç½‘ç»œç®¡ç†å·¥å…·

```
[root@archiso/]# pacman -S dhcpcd iwd
```

#### é‡å¯

```
[root@archiso/]# exit				-- æ¨å‡ºchrootç¯å¢ƒ
[root@archiso/]# umount -R /mnt		-- å¸è½½æ–‡ä»¶ç³»ç»Ÿ
[root@archiso/]# reboot				-- é‡å¯
```

#### å¼€å¯ç½‘ç»œæœåŠ¡

```
[root@ArchLinux ~]# systemctl start iwd.service
[root@ArchLinux ~]# systemctl enable iwd.service
[root@ArchLinux ~]# systemctl start systemd-resolved.service		-- å¯åŠ¨dnsåŸŸåæœåŠ¡
[root@ArchLinux ~]# systemctl enable systemd-resolved.service
[root@ArchLinux ~]# systemctl start dhcpcd
[root@ArchLinux ~]# systemctl enable dhcpcd
[root@ArchLinux ~]# dhcpcd		-- è¿æ¥æœ‰çº¿ç½‘
```

#### å®‰è£…å¸¸ç”¨å·¥å…·

```
[root@ArchLinux ~]# pacman -S networkmanager os-prober reflector sudo nano	-- networkmanageræš‚æ—¶å¯é€‰
```

#### åˆ›å»ºç”¨æˆ·å¹¶ç»™äºˆsudoæƒé™

```
[root@ArchLinux ~]# useradd -m -G wheel username
[root@ArchLinux ~]# passwd username
[root@ArchLinux ~]# EDITOR=nano visudo		-- å°† %wheel ALL=(ALL) ALL è¿™ä¸€è¡Œå–æ¶ˆæ³¨é‡Šã€‚
											-- è¿™ä¸€æ­¥éœ€è¦sudo,nanoåŒ…çš„æ”¯æŒï¼Œéœ€è¦å…ˆå®‰è£…
```

#### å®‰è£…KDE

###### å®‰è£…æ˜¾ç¤ºæœåŠ¡å™¨

```
[root@ArchLinux ~]# pacman -S xorg
```

###### å®‰è£…æ˜¾å¡é©±åŠ¨

è¿™é‡Œè¦å‚è€ƒwikié€‰æ‹©åˆé€‚çš„é©±åŠ¨ï¼š[Xorg - ArchWiki (archlinux.org)](https://wiki.archlinux.org/title/Xorg)

`xf86-video-intel`ï¼šä½¿ç”¨ä¸intelé›†æ˜¾ï¼Œç”±Intelå®˜æ–¹æä¾›ã€‚æä¾›2DåŠ é€Ÿã€‚å®˜æ–¹ä¸å»ºè®®å®‰è£…ï¼Œä¼šæ‰å¸§ã€‚

`nvidia,nvidia-utils`ï¼šå‰è€…æ˜¯ç”±nvidiaå®˜æ–¹æä¾›çš„ç‹¬æ˜¾é©±åŠ¨ï¼Œåè€…æ˜¯æ˜¾å¡ç®¡ç†å·¥å…·é›†(æˆ‘çš„æè¿°å¯èƒ½æœ‰è¯¯)ã€‚äºŒè€…éƒ½è¦å®‰è£…

`xf86-video-nouveau`ï¼šnvidiaå¼€æºæ˜¾å¡é©±åŠ¨ã€‚

`xf86-video-amdgpu`ï¼šamdé›†æ˜¾é©±åŠ¨ï¼Œå®˜æ–¹æä¾›

`mesa`ï¼šæä¾›3DåŠ é€Ÿ

`vulkan-intel`ï¼š

```
[root@ArchLinux ~]# pacman -S mesa vulkan-intel
```

###### å®‰è£…ç½‘ç»œæ ¸å¿ƒç»„ä»¶

```
[root@ArchLinux ~]# pacman -S networkmanager		-- wpa_supplicantå¯é€‰
[root@ArchLinux ~]# systemctl enable NetworkManager
```

`networkmanager`ï¼šç½‘ç»œç®¡ç†å™¨å‰ç«¯ï¼ŒKDEç­‰æ¡Œé¢ç¯å¢ƒä¾èµ–æ­¤å·¥å…·ç®¡ç†ç½‘ç»œ

`wpa_supplicant`ï¼šæ— çº¿ç½‘æœåŠ¡ç«¯ï¼Œnetworkmanageré»˜è®¤ä»¥æ­¤ä¸ºåç«¯ã€‚å¯ä»¥è¢«iwdæ›¿æ¢ã€‚

ä¿®æ”¹iwdä½œä¸ºåç«¯ï¼š

```
[root@ArchLinux ~]# vim /etc/NetworkManager/conf.d/wifi_backend.conf
-- æ·»åŠ ä»¥ä¸‹å†…å®¹
[device]
wifi.backend=iwd
```



###### å®‰è£…Display Manager

```
[root@ArchLinux ~]# pacman -S sddm		-- archlinuxæ¨èä½¿ç”¨sddm
[root@ArchLinux ~]# systemctl enable sddm.service
```

###### å®‰è£…kde

è¿™é‡Œæˆ‘é€‰æ‹©åªå®‰è£…åŸºç¡€ç¯å¢ƒã€‚

```
[root@ArchLinux ~]# pacman -S plasma
```

Qï¼šåœ¨è¿™ä¸€æ­¥ä¸­æŠ¥é”™ï¼šfailed retrieving file "libinput..."  ...The requested URL returned error: 404...failed to commit transaction...

Aï¼š`pacman -Syy` æ›´æ–°ä»¥ä¸‹è½¯ä»¶åº“ã€‚

å†æ¬¡æ‰§è¡Œï¼ŒæŠ¥é”™ï¼Œç£ç›˜ç©ºé—´ä¸å¤Ÿ...æˆ‘åªåˆ†äº†8Gçš„ï¼Œå¤ªæƒ¨äº†ï¼Œç°åœ¨åœ¨æ€è€ƒè§£å†³åŠæ³•ã€‚

è¿™é‡Œå†™ä¸ªæç¬‘çš„äº‹ã€‚æˆ‘æƒ³çš„ç¬¬ä¸€ä¸ªè§£å†³åŠæ³•æ˜¯deleteå®¶ç›®å½•ï¼Œç„¶åresizeæ ¹ç›®å½•ã€‚å…ˆæ³¨é‡Šæ‰`/etc/fstab`ä¸­`/dev/sda4`çš„æŒ‚è½½ï¼Œç„¶å`cfdisk`é‡æ–°è®¾ç½®åˆ†åŒºã€‚ç»“æœæ— è®ºæˆ‘æ€ä¹ˆè®¾ç½®ï¼Œé€€å‡ºåå†æ¬¡æŸ¥çœ‹åˆ†åŒºæƒ…å†µï¼Œhomeåˆ†åŒºéƒ½è¿˜åœ¨ï¼Œrootåˆ†ä¹Ÿè¿˜æ˜¯åŸå¤§å°ã€‚å†æ¬¡cfdiské‡æ–°è®¾ç½®ï¼Œåœ¨æ‰§è¡Œwriteæ“ä½œåï¼Œæˆ‘æ³¨æ„åˆ°ä¸‹é¢æœ‰ä¸€è¡Œï¼šdid not write partition to table..æˆ‘åœ¨æƒ³ï¼Œæ˜¯ä¸æ˜¯å®‰è£…äº†ç³»ç»Ÿä¹‹åä¸å…è®¸é‡æ–°åˆ†åŒºäº†å•Šï¼Ÿç„¶åæˆ‘å»ç½‘ä¸ŠæŸ¥äº†å¥½ä¹…ä¹Ÿæ²¡æœ‰ç»“æœã€‚ç„¶åæˆ‘ä»uç›˜å¯åŠ¨ï¼Œè¯•è¯•ç”¨liveç³»ç»Ÿæ¥é‡æ–°åˆ†åŒºä¹Ÿä¸è¡Œã€‚æˆ‘tmç›´æ¥æ€€ç–‘äººç”Ÿã€‚ç›¯ç€å±å¹•å‘å‘†è®¸ä¹…ï¼Œå¿½ç„¶æ³¨æ„åˆ°ï¼šwriteè¿™ä¸€æ­¥çš„æç¤ºæ˜¯ï¼štype â€˜yesâ€™ or â€˜noâ€™ ....è¿™æ‰çŒ›ç„¶æƒ³èµ·æ¥æˆ‘ä¹‹å‰éƒ½æ˜¯è¾“çš„yï¼Œä¸æ˜¯yesğŸ¤¦â€ã€‚

###### å®‰è£…å­—ä½“

å®‰è£…æ–‡æ³‰é©¿çš„æ­£é»‘å­—ä½“ï¼Œè°·æ­Œçš„notoå­—ä½“å®¶æ—

```
[root@ArchLinux ~]# pacman -S wqy-zenhei noto-fonts noto-fonts-cjk noto-fonts-emoji
```

###### å®‰è£…è¾“å…¥æ³•

```
[root@ArchLinux ~]# pacman -S fcitx5 fcitx5-chinese-addons fcitx5-qt fcitx5-gtk kcm-fcitx5
```

`fcitx5`ï¼šä¸­æ–‡è¾“å…¥æ³•æ¡†æ¶ï¼Œæ˜¯ä¸»ä½“ã€‚

`fcitx5-chinese-addons`ï¼šä¸­æ–‡è¾“å…¥æ³•å¼•æ“ã€‚æ­¤å¤–è¿˜æœ‰`fcitx5-rime`ã€‚

`fcitx5-qt`ï¼šå¯¹qt5ç¨‹åºçš„æ”¯æŒã€‚

`fcitx5-qtk`ï¼šå¯¹gtkç¨‹åºçš„æ”¯æŒã€‚

`kcm-fcitx5`ï¼šKDEä¸‹çš„é…ç½®å·¥å…·

ä¿®æ”¹ç¯å¢ƒå˜é‡ï¼š

```
[root@ArchLinux ~]# vim ~/.pam_environment
-- æ·»åŠ ä»¥ä¸‹å†…å®¹
INPUT_METHOD	DEFAULT=fcitx5
GTK_IM_MODULE	DEFAULT=fcitx5
QT_IM_MODULE	DEFAULT=fcitx5
XMODIFIERS		DEFAULT=\@im=fcitx5
-- é…ç½®å®Œæˆåï¼Œæˆ‘æŠŠ.pam_environmentæ–‡ä»¶cpä¸€ä»½åˆ°wenjuå®¶ç›®å½•ä¸‹ã€‚
[root@ArchLinux ~]# cp /usr/share/applications/fcitx5.desktop /etc/xdg/autostart/	-- å¼€æœºè‡ªå¯
```



é…ç½®æ–‡ä»¶ä½äº`~/.local/share/fcitx5`è¯¦ç»†é…ç½®å‚è€ƒï¼š[Fcitx - ArchWiki (archlinux.org)](https://wiki.archlinux.org/title/Fcitx)

###### å®‰è£…ç»ˆç«¯zsh

```
pacman -S zsh git			-- å®‰è£…zsh
sh -c "$(curl -fsSL https://raw.githubusercontent.com/ohmyzsh/ohmysh/master/tools/install.sh)"
												-- é…ç½®ohmyzshä¸»é¢˜
sh -c "$(wget https://raw.github.com/ohmyzsh/ohmyzsh/master/tools/install.sh -O -)"
												-- é…ç½®ohmyzshï¼Œå’Œä¸Šä¸€ä¸ªå‘½ä»¤ä»»é€‰ä¸€ä¸ªæ‰§è¡Œå³å¯
git clone https://github.com/zsh-users/zsh-autosuggestions ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-autosuggestions
												-- è‡ªåŠ¨è¡¥å…¨çš„æ’ä»¶
git clone https://github.com/zsh-users/zsh-syntax-highlighting.git ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-syntax-highlighting		
												-- é«˜äº®æ’ä»¶
```

è¿›ä¸€æ­¥çš„è¯¦ç»†é…ç½®å‚è€ƒï¼š[ohmyzsh Wiki](https://github.com/ohmyzsh/ohmyzsh/wiki)

Qï¼šè¿™ä¸€æ­¥ï¼Œå®‰è£…ohmyzshæ—¶æŠ¥é”™ï¼š443ç«¯å£connection refusedã€‚è¿™é‡Œè²Œä¼¼æ˜¯å®˜æ–¹çš„é—®é¢˜ï¼ˆç½‘å€è¢«å¢™äº†ï¼‰ã€‚

Aï¼š[å…³äºohmyzshä¸‹è½½è¢«443æ‹’ç»è¿æ¥](https://blog.csdn.net/qq_35104586/article/details/103604964/)

```
sh -c "$(curl -fsSL https://gitee.com/shmhlsy/oh-my-zsh-install.sh/raw/master/install.sh)"
```

Qï¼šohmyzshæ‰§è¡Œæ—¶ä¼šè¯¢é—®æ˜¯å¦æ›´æ”¹é»˜è®¤shellä¸ºzshï¼Œæˆ‘é€‰æ‹©äº†æ˜¯ï¼Œä½†æ˜¯éšå³å°±åæ‚”äº†ã€‚

Aï¼š

```
[root@ArchLinux ~]# cat /etc/shells		-- åˆ—å‡ºå—æ”¯æŒçš„shell
[root@ArchLinux ~]# chsh -s /bin/bash	-- é‡æ–°æ›´æ”¹ä¸ºbash
```

## ç»“è¯­

æš‚æ—¶å…ˆå®‰è£…åˆ°è¿™é‡Œï¼Œåé¢è¿˜æœ‰ç›¸å½“å¤šçš„ä¸œè¥¿éœ€è¦å®Œå–„ï¼Œåœ¨æ­¤ä¹‹å‰æ‰“ç®—å…ˆå»å¥½å¥½åœ°ç¿»é˜…ä¸€ä¸‹archwikiå’Œè®ºå›ã€‚

